<!doctype html><html><head><meta charset="utf-8" />
<title>OIDC Lab — Login</title>
<style>body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;margin:3rem}
.card{max-width:720px;padding:24px;border:1px solid #e5e7eb;border-radius:12px}
a.button{display:inline-block;padding:12px 18px;border:1px solid #d1d5db;border-radius:8px;text-decoration:none}</style>
</head><body>
<div class="card">
  <h1>OIDC Lab — Identity & Access Control</h1>
  {% if user %}
    <p>👋 Logged in as <strong>{{ user.email }}</strong></p>
    <p><a class="button" href="/success">View decoded ID Token</a>
       <a class="button" href="/admin">Admin page</a>
       <a class="button" href="/logout">Logout</a></p>
  {% else %}
    <p>Demo: Google OAuth 2.0 (PKCE) → verify ID token → show claims → optional domain enforce{% if enforce_domain %} (<code>{{ enforce_domain }}</code> only){% endif %}.</p>
    <p><a class="button" href="/login">🔐 Login with Google</a></p>
  {% endif %}
</div>
</body></html>
